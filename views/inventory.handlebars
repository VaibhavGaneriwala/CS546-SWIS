<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Inventory Dashboard</title>
  <link rel="stylesheet" href="/css/inventory.css">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <h2 class="logo">SWIS</h2>
      <nav>
        <a href="/dashboard">Dashboard</a>
        <a class="active" href="/inventory">Inventory</a>
        <a href="/reports">Reports</a>
        <a href="/settings">Settings</a>
        <a href="/logout">Log Out</a>
      </nav>
    </aside>

    <main class="main-content">
      <header class="top-bar">
        <input type="text" placeholder="Search product">
        <div class="profile"></div>
      </header>

      <section class="overview">
        <div class="card">
          <p>Categories</p>
          <h3>{{categoryCount}}</h3>
          <small>Last 7 days</small>
        </div>
        <div class="card">
          <p>Total Products</p>
          <h3>{{products.length}}</h3>
          <small>${{dummyRevenue}} Revenue</small>
        </div>
        <div class="card">
          <p>Top Selling</p>
          <h3>5</h3>
          <small>${{dummyCost}} Cost</small>
        </div>
        <div class="card">
          <p>Low Stocks</p>
          <h3>{{lowStockCount}}</h3>
          <small>{{noStockCount}} Not in stock</small>
        </div>
      </section>

      <section id="addProductSection" class="hidden">
        <h3>Add New Product</h3>
        <form id="addProductForm" method="POST" action="/inventory">
          <p id="error" hidden></p>

          <label for="productName">Product Name</label>
          <input type="text" id="productName" name="productName" required>

          <label for="categoryName">Category Name</label>
          <input type="text" id="categoryName" name="categoryName" required>

          <label for="quantity">Quantity</label>
          <input type="number" id="quantity" name="quantity" required>

          <label for="minThreshold">Minimum Threshold</label>
          <input type="number" id="minThreshold" name="minThreshold" required>

          <label for="unitPrice">Unit Price</label>
          <input type="number" step="0.01" id="unitPrice" name="unitPrice" required>

          <label for="nextRestockDate">Next Restock Date</label>
          <input type="date" id="nextRestockDate" name="restockSuggestion.nextRestockDate" required>

          <button type="submit">Add Product</button>
        </form>
      </section>

      <section class="products">
        <div class="product-header">
          <h2>Products</h2>
          <div class="buttons">
            <button type="button" class="add" id="toggleAddProduct">Add Product</button>
            <button class="filter">Filters</button>
            <button class="download">Download all</button>
          </div>
        </div>
        <table>
          <thead>
            <tr>
              <th>Products</th>
              <th>Buying Price</th>
              <th>Quantity</th>
              <th>Threshold Value</th>
              <th>Expiry Date</th>
              <th>Availability</th>
            </tr>
          </thead>
          <tbody>
            {{#each products}}
              <tr>
                <td>{{productName}}</td>
                <td>${{unitPrice}}</td>
                <td>{{quantity}} units</td>
                <td>{{minThreshold}} units</td>
                <td>{{restockSuggestion.nextRestockDate}}</td>
                <td class="{{stockStatus}}">
                  {{#if (eq stockStatus 'out-stock')}}
                    Out of stock
                  {{else if (eq stockStatus 'low-stock')}}
                    Low stock
                  {{else}}
                    In stock
                  {{/if}}
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
        <div class="pagination">
          <button>Previous</button>
          <span>Page 1 of 10</span>
          <button>Next</button>
        </div>
      </section>
    </main>
  </div>
</body>

{{#contentFor "scripts"}}
  <script src="/js/inventory.js"></script>
{{/contentFor}}

</html>

