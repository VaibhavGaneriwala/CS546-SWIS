{{#contentFor "styles"}}
<link rel="stylesheet" href="/css/dashboard.css" />
{{/contentFor}}

<div class="dashboard">
    <main class="main">
        <header class="header">
            <h1>Analytics & Reports</h1>
        </header>

        <section class="grid-container">
            <div class="card wide">
                <h3>Sales & Purchase Trends</h3>
                <canvas id="salesChart" height="100"></canvas>
            </div>

            <div class="card">
                <h3>Order Summary</h3>
                <canvas id="orderChart" height="100"></canvas>
            </div>

            <div class="card">
                <h3>Low Stock Items</h3>
                <ul class="low-stock">
                    {{#each lowStockItems}}
                    <li>
                        {{this.productName}} - {{this.quantity}} units
                        <span class="low">Low</span>
                    </li>
                    {{/each}}
                </ul>
            </div>
        </section>
    </main>
</div>

{{#contentFor "scripts"}}
<script>
    // Sales & Purchase Chart
    const ctx1 = document.getElementById('salesChart').getContext('2d');
    new Chart(ctx1, {
        type: 'bar',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [
                { label: 'Purchase', data: [50000, 48000, 46000, 44000, 42000, 41000], backgroundColor: '#a5b4fc' },
                { label: 'Sales', data: [52000, 50000, 47000, 45000, 43000, 42000], backgroundColor: '#6ee7b7' }
            ]
        }
    });

    // Order Summary Chart
    const ctx2 = document.getElementById('orderChart').getContext('2d');
    new Chart(ctx2, {
        type: 'doughnut',
        data: {
            labels: ['Completed', 'Pending', 'Cancelled'],
            datasets: [{
                data: [65, 25, 10],
                backgroundColor: ['#6ee7b7', '#a5b4fc', '#fca5a5']
            }]
        }
    });
</script>
{{/contentFor}}